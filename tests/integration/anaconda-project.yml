name: integration


###############################################################################
### Commands
###############################################################################
commands:

  ### Development #############################################################

  bash:
    env_spec: default
    unix: |
      bash

  lint:
    env_spec: default
    unix: |
      pylint src
      black src
      isort src --check

  lint:fix:
    env_spec: default
    unix: |
      pylint src
      black src
      isort src

###############################################################################
### Variables
###############################################################################
variables:
  DARKNESS_TLD: 127.0.0.1:8000

  DARKNESS_SERVICE_TIMEOUT: 5
  DARKNESS_SERVICE_RETRY_COUNT: 5
  DARKNESS_SERVICE_SLEEP_TIME: 1


###############################################################################
### Channels
###############################################################################
channels:
  - defaults
  - conda-forge
  - joshburt

###############################################################################
### Platforms
###############################################################################
platforms:
  - linux-64
  - osx-64
  - osx-arm64
  - win-64

###############################################################################
### Environment Definitions
###############################################################################
env_specs:
  default:
    description: Default environment spec for running commands
    packages:
    # Python Version
    - defaults:python>=3.12.0

    # Application Dependnecies
    - defaults:fastapi
    - defaults:pydantic
    - defaults:uvicorn
    - joshburt/label/dev::shapeandshare.darkness=0.1.0

    # Project Maintenance and Documentation
    - defaults:anaconda-project
    - defaults:pylint
    - defaults:black
    - defaults:isort
